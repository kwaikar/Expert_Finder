{
		"title": "Stream a video file over REST http with Spark Java",
		"body": "<p>Here is the method that works. I will be uploading a solution that let's you skip to sections of the video as well, piece of cake ;)</p>\n\n<pre><code>  get(\"/post/:id\", (req, res ) -&gt; {\n        //what's the difference between these 2?\n        res.raw().setContentType(\"video/mp4\");\n        res.type(\"video/mp4\");\n\n        String id = req.params(\":id\");\n\n        ObjectId objectId = new ObjectId(id);\n        BasicDBObject query = new BasicDBObject();\n\n        query.put(\"_id\", objectId);\n        GridFS gridfile = new GridFS(db, \"videos\");\n        GridFSDBFile gridFSDBFile = gridfile.findOne(query);\n\n       res.raw().setContentLengthLong(gridFSDBFile.getLength());\n        InputStream inputStream = gridFSDBFile.getInputStream();\n\n       ServletOutputStream out = res.raw().getOutputStream();\n\n        int data = inputStream.read();\n        while (data &gt;= 0) {\n            gridFSDBFile.writeTo(out);\n            data = inputStream.read();\n        }\n\n       // out.flush();\n      out.close();\n\n       return 200;\n\n    });\n</code></pre>\n"
}